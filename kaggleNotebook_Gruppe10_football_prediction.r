{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "058c0946",
   "metadata": {
    "papermill": {
     "duration": 0.00572,
     "end_time": "2022-08-10T15:32:09.026825",
     "exception": false,
     "start_time": "2022-08-10T15:32:09.021105",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Installing neccessary packages\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f92225ff",
   "metadata": {
    "papermill": {
     "duration": 0.004559,
     "end_time": "2022-08-10T15:32:09.038029",
     "exception": false,
     "start_time": "2022-08-10T15:32:09.033470",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Install your packages here"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "715d76bc",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:32:09.051751Z",
     "iopub.status.busy": "2022-08-10T15:32:09.049673Z",
     "iopub.status.idle": "2022-08-10T15:33:35.487196Z",
     "shell.execute_reply": "2022-08-10T15:33:35.485241Z"
    },
    "papermill": {
     "duration": 86.44736,
     "end_time": "2022-08-10T15:33:35.489890",
     "exception": false,
     "start_time": "2022-08-10T15:32:09.042530",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "Installing package into ‘/usr/local/lib/R/site-library’\n",
      "(as ‘lib’ is unspecified)\n",
      "\n",
      "Warning message in install.packages(\"jsonlite\"):\n",
      "“installation of package ‘jsonlite’ had non-zero exit status”\n",
      "Installing package into ‘/usr/local/lib/R/site-library’\n",
      "(as ‘lib’ is unspecified)\n",
      "\n",
      "Installing package into ‘/usr/local/lib/R/site-library’\n",
      "(as ‘lib’ is unspecified)\n",
      "\n",
      "also installing the dependency ‘reprex’\n",
      "\n",
      "\n",
      "Installing package into ‘/usr/local/lib/R/site-library’\n",
      "(as ‘lib’ is unspecified)\n",
      "\n",
      "Installing package into ‘/usr/local/lib/R/site-library’\n",
      "(as ‘lib’ is unspecified)\n",
      "\n",
      "Warning message in install.packages(\"httr\"):\n",
      "“installation of package ‘httr’ had non-zero exit status”\n"
     ]
    }
   ],
   "source": [
    "install.packages('jsonlite')\n",
    "install.packages('rvest')\n",
    "install.packages('tidyverse')\n",
    "install.packages('lubridate')\n",
    "install.packages('httr')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9d53b1c1",
   "metadata": {
    "papermill": {
     "duration": 0.005634,
     "end_time": "2022-08-10T15:33:35.503189",
     "exception": false,
     "start_time": "2022-08-10T15:33:35.497555",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Load the libraries here"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "45022c82",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:35.544094Z",
     "iopub.status.busy": "2022-08-10T15:33:35.514436Z",
     "iopub.status.idle": "2022-08-10T15:33:36.280765Z",
     "shell.execute_reply": "2022-08-10T15:33:36.279039Z"
    },
    "papermill": {
     "duration": 0.775592,
     "end_time": "2022-08-10T15:33:36.283518",
     "exception": false,
     "start_time": "2022-08-10T15:33:35.507926",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "── \u001b[1mAttaching packages\u001b[22m ─────────────────────────────────────── tidyverse 1.3.2 ──\n",
      "\u001b[32m✔\u001b[39m \u001b[34mggplot2\u001b[39m 3.3.6     \u001b[32m✔\u001b[39m \u001b[34mpurrr  \u001b[39m 0.3.4\n",
      "\u001b[32m✔\u001b[39m \u001b[34mtibble \u001b[39m 3.1.7     \u001b[32m✔\u001b[39m \u001b[34mdplyr  \u001b[39m 1.0.9\n",
      "\u001b[32m✔\u001b[39m \u001b[34mtidyr  \u001b[39m 1.2.0     \u001b[32m✔\u001b[39m \u001b[34mstringr\u001b[39m 1.4.0\n",
      "\u001b[32m✔\u001b[39m \u001b[34mreadr  \u001b[39m 2.1.2     \u001b[32m✔\u001b[39m \u001b[34mforcats\u001b[39m 0.5.1\n",
      "── \u001b[1mConflicts\u001b[22m ────────────────────────────────────────── tidyverse_conflicts() ──\n",
      "\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mfilter()\u001b[39m         masks \u001b[34mstats\u001b[39m::filter()\n",
      "\u001b[31m✖\u001b[39m \u001b[34mpurrr\u001b[39m::\u001b[32mflatten()\u001b[39m        masks \u001b[34mjsonlite\u001b[39m::flatten()\n",
      "\u001b[31m✖\u001b[39m \u001b[34mreadr\u001b[39m::\u001b[32mguess_encoding()\u001b[39m masks \u001b[34mrvest\u001b[39m::guess_encoding()\n",
      "\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mlag()\u001b[39m            masks \u001b[34mstats\u001b[39m::lag()\n",
      "\n",
      "Attaching package: ‘lubridate’\n",
      "\n",
      "\n",
      "The following objects are masked from ‘package:base’:\n",
      "\n",
      "    date, intersect, setdiff, union\n",
      "\n",
      "\n"
     ]
    }
   ],
   "source": [
    "library(jsonlite)\n",
    "library(httr)\n",
    "library(rvest)\n",
    "library(tidyverse)\n",
    "library(lubridate)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "69da2d1d",
   "metadata": {
    "papermill": {
     "duration": 0.005336,
     "end_time": "2022-08-10T15:33:36.294647",
     "exception": false,
     "start_time": "2022-08-10T15:33:36.289311",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# trimStringArray function"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "4bb5df75",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:36.308602Z",
     "iopub.status.busy": "2022-08-10T15:33:36.306566Z",
     "iopub.status.idle": "2022-08-10T15:33:36.319918Z",
     "shell.execute_reply": "2022-08-10T15:33:36.318262Z"
    },
    "papermill": {
     "duration": 0.022507,
     "end_time": "2022-08-10T15:33:36.322217",
     "exception": false,
     "start_time": "2022-08-10T15:33:36.299710",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "trimStringArray = function(array) {\n",
    "  if (is.array(array)) {\n",
    "    for (i in 1:length(array())) {\n",
    "      array[i] = trimws(array[i])\n",
    "    }\n",
    "  } else {\n",
    "    array = trimws(array)\n",
    "  }\n",
    "  array\n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "579e7903",
   "metadata": {
    "papermill": {
     "duration": 0.005333,
     "end_time": "2022-08-10T15:33:36.332709",
     "exception": false,
     "start_time": "2022-08-10T15:33:36.327376",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Scrape Teilnehmer von WM"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "1058cf2b",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:36.346617Z",
     "iopub.status.busy": "2022-08-10T15:33:36.345089Z",
     "iopub.status.idle": "2022-08-10T15:33:36.360101Z",
     "shell.execute_reply": "2022-08-10T15:33:36.358400Z"
    },
    "papermill": {
     "duration": 0.024757,
     "end_time": "2022-08-10T15:33:36.362705",
     "exception": false,
     "start_time": "2022-08-10T15:33:36.337948",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "scrapeColumnsWM = function(game_name) {\n",
    "\n",
    "  # base url\n",
    "\n",
    "  url = 'https://www.transfermarkt.de/weltmeisterschaft-2022/teilnehmer/pokalwettbewerb/WM22/saison_id/2021'\n",
    "\n",
    "  # read url\n",
    "\n",
    "  url %>%\n",
    "    read_html() -> html\n",
    "\n",
    "  # variables\n",
    "\n",
    "  columnValues = list() # a list containing all values\n",
    "  columnNames = NULL\n",
    "  box = NULL # searching for the table_header\n",
    "  slugs = c()\n",
    "  club_ids = c()\n",
    "\n",
    "  # Obtain the correct responsive-table by name of table_header\n",
    "\n",
    "  html %>%\n",
    "    html_elements('.box') -> boxes\n",
    "\n",
    "  # Print the table headers\n",
    "\n",
    "  boxes\n",
    "\n",
    "  # Iterate over each table header to find the match with table_header\n",
    "  # argument\n",
    "\n",
    "  for (item in boxes) {\n",
    "\n",
    "    #print(item)\n",
    "\n",
    "    item %>%\n",
    "      html_elements('.table-header') %>%\n",
    "      html_text() %>%\n",
    "      trimStringArray() -> name\n",
    "\n",
    "    if (length(name) != 0 && grepl(tolower(game_name), tolower(name))) {\n",
    "      box = item\n",
    "      break\n",
    "    }\n",
    "  }\n",
    "\n",
    "  box\n",
    "\n",
    "  if(!is.null(box)) {\n",
    "      # Obtain the responsive_table\n",
    "\n",
    "      box %>%\n",
    "          html_elements('.responsive-table') -> responsive_table\n",
    "\n",
    "      # print the responsive-table\n",
    "\n",
    "      responsive_table\n",
    "\n",
    "      # scrape the url with the slugs and club ids of the countries\n",
    "\n",
    "      responsive_table %>%\n",
    "          html_elements('tr td:first-of-type a') %>%\n",
    "          html_attr('href') %>%\n",
    "          strsplit('/') -> raw_url_data\n",
    "\n",
    "      raw_url_data\n",
    "\n",
    "      # obtain the slug of all countries\n",
    "\n",
    "      raw_url_data[1][[1]][2]\n",
    "      raw_url_data[1][[1]][length(raw_url_data[1][[1]])]\n",
    "\n",
    "      for (i in 1:length(raw_url_data)) {\n",
    "          slugs = c(slugs, raw_url_data[i][[1]][2])\n",
    "          club_ids = c(club_ids, raw_url_data[i][[1]][length(raw_url_data[1][[1]])])\n",
    "      }\n",
    "\n",
    "      # print slugs\n",
    "\n",
    "      slugs\n",
    "\n",
    "      # print club_ids\n",
    "\n",
    "      club_ids\n",
    "\n",
    "      # obtain the columnNames\n",
    "\n",
    "      responsive_table %>%\n",
    "          html_elements('th') %>%\n",
    "          html_text -> columnNames\n",
    "\n",
    "      # print columnNames\n",
    "\n",
    "      columnNames\n",
    "\n",
    "      # add slug and club_id to columnNames\n",
    "\n",
    "      columnNames = c(columnNames, c('slug', 'club_id'))\n",
    "\n",
    "      # print columnNames again\n",
    "\n",
    "      columnNames\n",
    "\n",
    "      # obtain length of a all true columns\n",
    "\n",
    "      responsive_table %>%\n",
    "          html_elements('tbody tr:nth-of-type(1) td') %>%\n",
    "          length() -> trueColumnsLength\n",
    "\n",
    "      # print the length of all true columns\n",
    "\n",
    "      trueColumnsLength\n",
    "\n",
    "      for (i in 1:trueColumnsLength) {\n",
    "          # create css selector string\n",
    "          # td:not([class*=\"no-border-rechts\"]\n",
    "          string = paste0('tbody tr td:not([class*=\"no-border-rechts\"]):nth-of-type(', i,')')\n",
    "\n",
    "          # print the css selector string\n",
    "\n",
    "          string\n",
    "\n",
    "          # obtain all row elements of specified column\n",
    "\n",
    "          responsive_table %>%\n",
    "              html_elements(string) -> html_node\n",
    "\n",
    "          # print all row elements of specified column\n",
    "\n",
    "          html_node\n",
    "\n",
    "          # only add the values if they are valid!!!\n",
    "\n",
    "          if(length(html_node) != 0) {\n",
    "              # obtain the children (if any) from the row elements\n",
    "              # of specified column\n",
    "\n",
    "              html_node %>%\n",
    "                  html_children() -> children\n",
    "\n",
    "              # print the children\n",
    "\n",
    "              children\n",
    "\n",
    "              # check the number of children contained within\n",
    "\n",
    "              num_of_children = length(children)\n",
    "\n",
    "              # print the number of children (if any)\n",
    "\n",
    "              num_of_children\n",
    "\n",
    "              # check if a child contains any subchildren\n",
    "\n",
    "              children %>%\n",
    "                  html_children() -> subchildren\n",
    "\n",
    "              # print subchildren\n",
    "\n",
    "              subchildren\n",
    "\n",
    "              # check the number of children contained within\n",
    "\n",
    "              num_of_subchildren = length(subchildren)\n",
    "\n",
    "              # print number of subchildren\n",
    "\n",
    "              num_of_subchildren\n",
    "\n",
    "              # dynammically apply a search for the values\n",
    "              # according to the number of children\n",
    "\n",
    "              if (num_of_subchildren > 0) {\n",
    "                  responsive_table %>%\n",
    "                      html_elements(string) %>%\n",
    "                      html_elements('a > span') %>%\n",
    "                      html_text() -> values\n",
    "              } else if (num_of_children > 0) {\n",
    "                  responsive_table %>%\n",
    "                      html_elements(string) %>%\n",
    "                      html_elements('a') %>%\n",
    "                      html_attr('title') -> values\n",
    "              } else {\n",
    "                  responsive_table %>%\n",
    "                      html_elements(string) %>%\n",
    "                      html_text -> values\n",
    "              }\n",
    "\n",
    "              # wrap the obtained values within a list\n",
    "\n",
    "              list(values)\n",
    "\n",
    "              # iterate over all children by\n",
    "\n",
    "              values = trimStringArray(values)\n",
    "\n",
    "              # Add this column to the columnValues list\n",
    "\n",
    "              columnValues = append(columnValues, list(values))\n",
    "          }\n",
    "          else {\n",
    "              print(paste0(\"Column \", i, \" is not a valid value\"))\n",
    "          }\n",
    "\n",
    "      }\n",
    "\n",
    "      # add club_id and slug to values\n",
    "\n",
    "      columnValues = append(columnValues, list(slugs))\n",
    "      columnValues = append(columnValues, list(club_ids))\n",
    "\n",
    "      # print columnValues\n",
    "\n",
    "      columnValues\n",
    "\n",
    "      # return list\n",
    "      list(columnNames, columnValues)\n",
    "  } else {\n",
    "      # return NULL\n",
    "      NULL\n",
    "  }\n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "57e2b1db",
   "metadata": {
    "papermill": {
     "duration": 0.005471,
     "end_time": "2022-08-10T15:33:36.373463",
     "exception": false,
     "start_time": "2022-08-10T15:33:36.367992",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# create Dataframe from scrapeColumnsWM"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "afd1fbe8",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:36.399547Z",
     "iopub.status.busy": "2022-08-10T15:33:36.398012Z",
     "iopub.status.idle": "2022-08-10T15:33:36.410556Z",
     "shell.execute_reply": "2022-08-10T15:33:36.408917Z"
    },
    "papermill": {
     "duration": 0.034438,
     "end_time": "2022-08-10T15:33:36.412957",
     "exception": false,
     "start_time": "2022-08-10T15:33:36.378519",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "create_dataframeWM = function(name) {\n",
    "  print(scrapeColumnsWM(name))\n",
    "  df_wm = scrapeColumnsWM(name)\n",
    "\n",
    "  if(!(is.null(df_wm))) {\n",
    "      columns = df_wm[[2]]\n",
    "      columnNames = df_wm[[1]]\n",
    "\n",
    "      #print(columnNames)\n",
    "\n",
    "      df_wm = data.frame(columns[[1]])\n",
    "\n",
    "      for (i in 2:length(columns)) {\n",
    "          df_wm[i] = columns[[i]]\n",
    "      }\n",
    "\n",
    "      names(df_wm) = columnNames[2:length(columnNames)]\n",
    "      df_wm\n",
    "  } else {\n",
    "      NULL\n",
    "  }\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "5054b03a",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:36.426754Z",
     "iopub.status.busy": "2022-08-10T15:33:36.425262Z",
     "iopub.status.idle": "2022-08-10T15:33:50.615252Z",
     "shell.execute_reply": "2022-08-10T15:33:50.612649Z"
    },
    "papermill": {
     "duration": 14.200263,
     "end_time": "2022-08-10T15:33:50.618726",
     "exception": false,
     "start_time": "2022-08-10T15:33:36.418463",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[1] \"Column 1 is not a valid value\"\n",
      "[[1]]\n",
      " [1] \"wappen\"            \"Verein\"            \"Kader\"            \n",
      " [4] \"&oslash-Alter\"     \"WM-Teilnahmen\"     \"Legionäre\"        \n",
      " [7] \"Marktwert\"         \"&oslash-Marktwert\" \"slug\"             \n",
      "[10] \"club_id\"          \n",
      "\n",
      "[[2]]\n",
      "[[2]][[1]]\n",
      " [1] \"England\"            \"Frankreich\"         \"Brasilien\"         \n",
      " [4] \"Deutschland\"        \"Portugal\"           \"Spanien\"           \n",
      " [7] \"Argentinien\"        \"Niederlande\"        \"Uruguay\"           \n",
      "[10] \"Serbien\"            \"Kroatien\"           \"Belgien\"           \n",
      "[13] \"Polen\"              \"Senegal\"            \"Dänemark\"          \n",
      "[16] \"Schweiz\"            \"Marokko\"            \"Vereinigte Staaten\"\n",
      "[19] \"Kanada\"             \"Wales\"              \"Kamerun\"           \n",
      "[22] \"Ghana\"              \"Ecuador\"            \"Mexiko\"            \n",
      "[25] \"Iran\"               \"Australien\"         \"Tunesien\"          \n",
      "[28] \"Saudi-Arabien\"      \"Japan\"              \"Südkorea\"          \n",
      "[31] \"Katar\"              \"Costa Rica\"        \n",
      "\n",
      "[[2]][[2]]\n",
      " [1] \"27\" \"25\" \"28\" \"25\" \"23\" \"24\" \"28\" \"25\" \"27\" \"29\" \"28\" \"24\" \"37\" \"26\" \"23\"\n",
      "[16] \"28\" \"31\" \"26\" \"25\" \"29\" \"25\" \"37\" \"28\" \"23\" \"30\" \"35\" \"25\" \"26\" \"26\" \"26\"\n",
      "[31] \"27\" \"23\"\n",
      "\n",
      "[[2]][[3]]\n",
      " [1] \"25,6\" \"26,9\" \"27,2\" \"26,6\" \"27,3\" \"25,9\" \"27,7\" \"26,7\" \"26,9\" \"26,1\"\n",
      "[11] \"26,4\" \"27,4\" \"26,5\" \"26,8\" \"26,5\" \"26,9\" \"26,7\" \"24,5\" \"26,8\" \"25,5\"\n",
      "[21] \"26,4\" \"25,2\" \"25,2\" \"25,8\" \"27,1\" \"27,6\" \"26,5\" \"26,7\" \"26,2\" \"26,1\"\n",
      "[31] \"26,3\" \"26,5\"\n",
      "\n",
      "[[2]][[4]]\n",
      " [1] \"16\" \"16\" \"22\" \"20\" \"8\"  \"16\" \"18\" \"11\" \"14\" \"3\"  \"6\"  \"14\" \"9\"  \"3\"  \"6\" \n",
      "[16] \"12\" \"6\"  \"11\" \"2\"  \"2\"  \"8\"  \"4\"  \"4\"  \"17\" \"6\"  \"6\"  \"6\"  \"6\"  \"7\"  \"11\"\n",
      "[31] \"1\"  \"6\" \n",
      "\n",
      "[[2]][[5]]\n",
      " [1] \"11,1 %\"  \"84,0 %\"  \"85,7 %\"  \"16,0 %\"  \"73,9 %\"  \"33,3 %\"  \"96,4 %\" \n",
      " [8] \"60,0 %\"  \"92,6 %\"  \"96,6 %\"  \"75,0 %\"  \"83,3 %\"  \"91,9 %\"  \"100,0 %\"\n",
      "[15] \"95,7 %\"  \"85,7 %\"  \"87,1 %\"  \"65,4 %\"  \"68,0 %\"  \"86,2 %\"  \"100,0 %\"\n",
      "[22] \"94,6 %\"  \"82,1 %\"  \"26,1 %\"  \"46,7 %\"  \"71,4 %\"  \"72,0 %\"  \"%\"      \n",
      "[29] \"3,8 %\"   \"7,7 %\"   \"%\"       \"26,1 %\" \n",
      "\n",
      "[[2]][[6]]\n",
      " [1] \"1,29 Mrd. €\"   \"1,06 Mrd. €\"   \"1,01 Mrd. €\"   \"824,50 Mio. €\"\n",
      " [5] \"772,00 Mio. €\" \"751,00 Mio. €\" \"627,00 Mio. €\" \"495,40 Mio. €\"\n",
      " [9] \"395,00 Mio. €\" \"374,50 Mio. €\" \"356,40 Mio. €\" \"339,00 Mio. €\"\n",
      "[13] \"304,40 Mio. €\" \"297,70 Mio. €\" \"287,40 Mio. €\" \"255,20 Mio. €\"\n",
      "[17] \"237,93 Mio. €\" \"212,65 Mio. €\" \"176,30 Mio. €\" \"139,20 Mio. €\"\n",
      "[21] \"114,30 Mio. €\" \"106,95 Mio. €\" \"102,75 Mio. €\" \"92,70 Mio. €\" \n",
      "[25] \"73,15 Mio. €\"  \"50,63 Mio. €\"  \"42,15 Mio. €\"  \"32,15 Mio. €\" \n",
      "[29] \"23,35 Mio. €\"  \"22,20 Mio. €\"  \"19,20 Mio. €\"  \"18,15 Mio. €\" \n",
      "\n",
      "[[2]][[7]]\n",
      " [1] \"47,89 Mio. €\" \"42,40 Mio. €\" \"36,23 Mio. €\" \"32,98 Mio. €\" \"33,57 Mio. €\"\n",
      " [6] \"31,29 Mio. €\" \"22,39 Mio. €\" \"19,82 Mio. €\" \"14,63 Mio. €\" \"12,91 Mio. €\"\n",
      "[11] \"12,73 Mio. €\" \"14,13 Mio. €\" \"8,23 Mio. €\"  \"11,45 Mio. €\" \"12,50 Mio. €\"\n",
      "[16] \"9,11 Mio. €\"  \"7,68 Mio. €\"  \"8,18 Mio. €\"  \"7,05 Mio. €\"  \"4,80 Mio. €\" \n",
      "[21] \"4,57 Mio. €\"  \"2,89 Mio. €\"  \"3,67 Mio. €\"  \"4,03 Mio. €\"  \"2,44 Mio. €\" \n",
      "[26] \"1,45 Mio. €\"  \"1,69 Mio. €\"  \"1,24 Mio. €\"  \"898 Tsd. €\"   \"854 Tsd. €\"  \n",
      "[31] \"711 Tsd. €\"   \"789 Tsd. €\"  \n",
      "\n",
      "[[2]][[8]]\n",
      " [1] \"england\"            \"frankreich\"         \"brasilien\"         \n",
      " [4] \"deutschland\"        \"portugal\"           \"spanien\"           \n",
      " [7] \"argentinien\"        \"niederlande\"        \"uruguay\"           \n",
      "[10] \"serbien\"            \"kroatien\"           \"belgien\"           \n",
      "[13] \"polen\"              \"senegal\"            \"danemark\"          \n",
      "[16] \"schweiz\"            \"marokko\"            \"vereinigte-staaten\"\n",
      "[19] \"kanada\"             \"wales\"              \"kamerun\"           \n",
      "[22] \"ghana\"              \"ecuador\"            \"mexiko\"            \n",
      "[25] \"iran\"               \"australien\"         \"tunesien\"          \n",
      "[28] \"saudi-arabien\"      \"japan\"              \"sudkorea\"          \n",
      "[31] \"katar\"              \"costa-rica\"        \n",
      "\n",
      "[[2]][[9]]\n",
      " [1] \"3299\"  \"3377\"  \"3439\"  \"3262\"  \"3300\"  \"3375\"  \"3437\"  \"3379\"  \"3449\" \n",
      "[10] \"3438\"  \"3556\"  \"3382\"  \"3442\"  \"3499\"  \"3436\"  \"3384\"  \"3575\"  \"3505\" \n",
      "[19] \"3510\"  \"3864\"  \"3434\"  \"3441\"  \"5750\"  \"6303\"  \"3582\"  \"3433\"  \"3670\" \n",
      "[28] \"3807\"  \"3435\"  \"3589\"  \"14162\" \"8497\" \n",
      "\n",
      "\n",
      "[1] \"Column 1 is not a valid value\"\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<table class=\"dataframe\">\n",
       "<caption>A data.frame: 32 × 9</caption>\n",
       "<thead>\n",
       "\t<tr><th scope=col>Verein</th><th scope=col>Kader</th><th scope=col>&amp;oslash-Alter</th><th scope=col>WM-Teilnahmen</th><th scope=col>Legionäre</th><th scope=col>Marktwert</th><th scope=col>&amp;oslash-Marktwert</th><th scope=col>slug</th><th scope=col>club_id</th></tr>\n",
       "\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n",
       "</thead>\n",
       "<tbody>\n",
       "\t<tr><td>England           </td><td>27</td><td>25,6</td><td>16</td><td>11,1 % </td><td>1,29 Mrd. €  </td><td>47,89 Mio. €</td><td>england           </td><td>3299 </td></tr>\n",
       "\t<tr><td>Frankreich        </td><td>25</td><td>26,9</td><td>16</td><td>84,0 % </td><td>1,06 Mrd. €  </td><td>42,40 Mio. €</td><td>frankreich        </td><td>3377 </td></tr>\n",
       "\t<tr><td>Brasilien         </td><td>28</td><td>27,2</td><td>22</td><td>85,7 % </td><td>1,01 Mrd. €  </td><td>36,23 Mio. €</td><td>brasilien         </td><td>3439 </td></tr>\n",
       "\t<tr><td>Deutschland       </td><td>25</td><td>26,6</td><td>20</td><td>16,0 % </td><td>824,50 Mio. €</td><td>32,98 Mio. €</td><td>deutschland       </td><td>3262 </td></tr>\n",
       "\t<tr><td>Portugal          </td><td>23</td><td>27,3</td><td>8 </td><td>73,9 % </td><td>772,00 Mio. €</td><td>33,57 Mio. €</td><td>portugal          </td><td>3300 </td></tr>\n",
       "\t<tr><td>Spanien           </td><td>24</td><td>25,9</td><td>16</td><td>33,3 % </td><td>751,00 Mio. €</td><td>31,29 Mio. €</td><td>spanien           </td><td>3375 </td></tr>\n",
       "\t<tr><td>Argentinien       </td><td>28</td><td>27,7</td><td>18</td><td>96,4 % </td><td>627,00 Mio. €</td><td>22,39 Mio. €</td><td>argentinien       </td><td>3437 </td></tr>\n",
       "\t<tr><td>Niederlande       </td><td>25</td><td>26,7</td><td>11</td><td>60,0 % </td><td>495,40 Mio. €</td><td>19,82 Mio. €</td><td>niederlande       </td><td>3379 </td></tr>\n",
       "\t<tr><td>Uruguay           </td><td>27</td><td>26,9</td><td>14</td><td>92,6 % </td><td>395,00 Mio. €</td><td>14,63 Mio. €</td><td>uruguay           </td><td>3449 </td></tr>\n",
       "\t<tr><td>Serbien           </td><td>29</td><td>26,1</td><td>3 </td><td>96,6 % </td><td>374,50 Mio. €</td><td>12,91 Mio. €</td><td>serbien           </td><td>3438 </td></tr>\n",
       "\t<tr><td>Kroatien          </td><td>28</td><td>26,4</td><td>6 </td><td>75,0 % </td><td>356,40 Mio. €</td><td>12,73 Mio. €</td><td>kroatien          </td><td>3556 </td></tr>\n",
       "\t<tr><td>Belgien           </td><td>24</td><td>27,4</td><td>14</td><td>83,3 % </td><td>339,00 Mio. €</td><td>14,13 Mio. €</td><td>belgien           </td><td>3382 </td></tr>\n",
       "\t<tr><td>Polen             </td><td>37</td><td>26,5</td><td>9 </td><td>91,9 % </td><td>304,40 Mio. €</td><td>8,23 Mio. € </td><td>polen             </td><td>3442 </td></tr>\n",
       "\t<tr><td>Senegal           </td><td>26</td><td>26,8</td><td>3 </td><td>100,0 %</td><td>297,70 Mio. €</td><td>11,45 Mio. €</td><td>senegal           </td><td>3499 </td></tr>\n",
       "\t<tr><td>Dänemark          </td><td>23</td><td>26,5</td><td>6 </td><td>95,7 % </td><td>287,40 Mio. €</td><td>12,50 Mio. €</td><td>danemark          </td><td>3436 </td></tr>\n",
       "\t<tr><td>Schweiz           </td><td>28</td><td>26,9</td><td>12</td><td>85,7 % </td><td>255,20 Mio. €</td><td>9,11 Mio. € </td><td>schweiz           </td><td>3384 </td></tr>\n",
       "\t<tr><td>Marokko           </td><td>31</td><td>26,7</td><td>6 </td><td>87,1 % </td><td>237,93 Mio. €</td><td>7,68 Mio. € </td><td>marokko           </td><td>3575 </td></tr>\n",
       "\t<tr><td>Vereinigte Staaten</td><td>26</td><td>24,5</td><td>11</td><td>65,4 % </td><td>212,65 Mio. €</td><td>8,18 Mio. € </td><td>vereinigte-staaten</td><td>3505 </td></tr>\n",
       "\t<tr><td>Kanada            </td><td>25</td><td>26,8</td><td>2 </td><td>68,0 % </td><td>176,30 Mio. €</td><td>7,05 Mio. € </td><td>kanada            </td><td>3510 </td></tr>\n",
       "\t<tr><td>Wales             </td><td>29</td><td>25,5</td><td>2 </td><td>86,2 % </td><td>139,20 Mio. €</td><td>4,80 Mio. € </td><td>wales             </td><td>3864 </td></tr>\n",
       "\t<tr><td>Kamerun           </td><td>25</td><td>26,4</td><td>8 </td><td>100,0 %</td><td>114,30 Mio. €</td><td>4,57 Mio. € </td><td>kamerun           </td><td>3434 </td></tr>\n",
       "\t<tr><td>Ghana             </td><td>37</td><td>25,2</td><td>4 </td><td>94,6 % </td><td>106,95 Mio. €</td><td>2,89 Mio. € </td><td>ghana             </td><td>3441 </td></tr>\n",
       "\t<tr><td>Ecuador           </td><td>28</td><td>25,2</td><td>4 </td><td>82,1 % </td><td>102,75 Mio. €</td><td>3,67 Mio. € </td><td>ecuador           </td><td>5750 </td></tr>\n",
       "\t<tr><td>Mexiko            </td><td>23</td><td>25,8</td><td>17</td><td>26,1 % </td><td>92,70 Mio. € </td><td>4,03 Mio. € </td><td>mexiko            </td><td>6303 </td></tr>\n",
       "\t<tr><td>Iran              </td><td>30</td><td>27,1</td><td>6 </td><td>46,7 % </td><td>73,15 Mio. € </td><td>2,44 Mio. € </td><td>iran              </td><td>3582 </td></tr>\n",
       "\t<tr><td>Australien        </td><td>35</td><td>27,6</td><td>6 </td><td>71,4 % </td><td>50,63 Mio. € </td><td>1,45 Mio. € </td><td>australien        </td><td>3433 </td></tr>\n",
       "\t<tr><td>Tunesien          </td><td>25</td><td>26,5</td><td>6 </td><td>72,0 % </td><td>42,15 Mio. € </td><td>1,69 Mio. € </td><td>tunesien          </td><td>3670 </td></tr>\n",
       "\t<tr><td>Saudi-Arabien     </td><td>26</td><td>26,7</td><td>6 </td><td>%      </td><td>32,15 Mio. € </td><td>1,24 Mio. € </td><td>saudi-arabien     </td><td>3807 </td></tr>\n",
       "\t<tr><td>Japan             </td><td>26</td><td>26,2</td><td>7 </td><td>3,8 %  </td><td>23,35 Mio. € </td><td>898 Tsd. €  </td><td>japan             </td><td>3435 </td></tr>\n",
       "\t<tr><td>Südkorea          </td><td>26</td><td>26,1</td><td>11</td><td>7,7 %  </td><td>22,20 Mio. € </td><td>854 Tsd. €  </td><td>sudkorea          </td><td>3589 </td></tr>\n",
       "\t<tr><td>Katar             </td><td>27</td><td>26,3</td><td>1 </td><td>%      </td><td>19,20 Mio. € </td><td>711 Tsd. €  </td><td>katar             </td><td>14162</td></tr>\n",
       "\t<tr><td>Costa Rica        </td><td>23</td><td>26,5</td><td>6 </td><td>26,1 % </td><td>18,15 Mio. € </td><td>789 Tsd. €  </td><td>costa-rica        </td><td>8497 </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "A data.frame: 32 × 9\n",
       "\\begin{tabular}{lllllllll}\n",
       " Verein & Kader & \\&oslash-Alter & WM-Teilnahmen & Legionäre & Marktwert & \\&oslash-Marktwert & slug & club\\_id\\\\\n",
       " <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr>\\\\\n",
       "\\hline\n",
       "\t England            & 27 & 25,6 & 16 & 11,1 \\%  & 1,29 Mrd. €   & 47,89 Mio. € & england            & 3299 \\\\\n",
       "\t Frankreich         & 25 & 26,9 & 16 & 84,0 \\%  & 1,06 Mrd. €   & 42,40 Mio. € & frankreich         & 3377 \\\\\n",
       "\t Brasilien          & 28 & 27,2 & 22 & 85,7 \\%  & 1,01 Mrd. €   & 36,23 Mio. € & brasilien          & 3439 \\\\\n",
       "\t Deutschland        & 25 & 26,6 & 20 & 16,0 \\%  & 824,50 Mio. € & 32,98 Mio. € & deutschland        & 3262 \\\\\n",
       "\t Portugal           & 23 & 27,3 & 8  & 73,9 \\%  & 772,00 Mio. € & 33,57 Mio. € & portugal           & 3300 \\\\\n",
       "\t Spanien            & 24 & 25,9 & 16 & 33,3 \\%  & 751,00 Mio. € & 31,29 Mio. € & spanien            & 3375 \\\\\n",
       "\t Argentinien        & 28 & 27,7 & 18 & 96,4 \\%  & 627,00 Mio. € & 22,39 Mio. € & argentinien        & 3437 \\\\\n",
       "\t Niederlande        & 25 & 26,7 & 11 & 60,0 \\%  & 495,40 Mio. € & 19,82 Mio. € & niederlande        & 3379 \\\\\n",
       "\t Uruguay            & 27 & 26,9 & 14 & 92,6 \\%  & 395,00 Mio. € & 14,63 Mio. € & uruguay            & 3449 \\\\\n",
       "\t Serbien            & 29 & 26,1 & 3  & 96,6 \\%  & 374,50 Mio. € & 12,91 Mio. € & serbien            & 3438 \\\\\n",
       "\t Kroatien           & 28 & 26,4 & 6  & 75,0 \\%  & 356,40 Mio. € & 12,73 Mio. € & kroatien           & 3556 \\\\\n",
       "\t Belgien            & 24 & 27,4 & 14 & 83,3 \\%  & 339,00 Mio. € & 14,13 Mio. € & belgien            & 3382 \\\\\n",
       "\t Polen              & 37 & 26,5 & 9  & 91,9 \\%  & 304,40 Mio. € & 8,23 Mio. €  & polen              & 3442 \\\\\n",
       "\t Senegal            & 26 & 26,8 & 3  & 100,0 \\% & 297,70 Mio. € & 11,45 Mio. € & senegal            & 3499 \\\\\n",
       "\t Dänemark           & 23 & 26,5 & 6  & 95,7 \\%  & 287,40 Mio. € & 12,50 Mio. € & danemark           & 3436 \\\\\n",
       "\t Schweiz            & 28 & 26,9 & 12 & 85,7 \\%  & 255,20 Mio. € & 9,11 Mio. €  & schweiz            & 3384 \\\\\n",
       "\t Marokko            & 31 & 26,7 & 6  & 87,1 \\%  & 237,93 Mio. € & 7,68 Mio. €  & marokko            & 3575 \\\\\n",
       "\t Vereinigte Staaten & 26 & 24,5 & 11 & 65,4 \\%  & 212,65 Mio. € & 8,18 Mio. €  & vereinigte-staaten & 3505 \\\\\n",
       "\t Kanada             & 25 & 26,8 & 2  & 68,0 \\%  & 176,30 Mio. € & 7,05 Mio. €  & kanada             & 3510 \\\\\n",
       "\t Wales              & 29 & 25,5 & 2  & 86,2 \\%  & 139,20 Mio. € & 4,80 Mio. €  & wales              & 3864 \\\\\n",
       "\t Kamerun            & 25 & 26,4 & 8  & 100,0 \\% & 114,30 Mio. € & 4,57 Mio. €  & kamerun            & 3434 \\\\\n",
       "\t Ghana              & 37 & 25,2 & 4  & 94,6 \\%  & 106,95 Mio. € & 2,89 Mio. €  & ghana              & 3441 \\\\\n",
       "\t Ecuador            & 28 & 25,2 & 4  & 82,1 \\%  & 102,75 Mio. € & 3,67 Mio. €  & ecuador            & 5750 \\\\\n",
       "\t Mexiko             & 23 & 25,8 & 17 & 26,1 \\%  & 92,70 Mio. €  & 4,03 Mio. €  & mexiko             & 6303 \\\\\n",
       "\t Iran               & 30 & 27,1 & 6  & 46,7 \\%  & 73,15 Mio. €  & 2,44 Mio. €  & iran               & 3582 \\\\\n",
       "\t Australien         & 35 & 27,6 & 6  & 71,4 \\%  & 50,63 Mio. €  & 1,45 Mio. €  & australien         & 3433 \\\\\n",
       "\t Tunesien           & 25 & 26,5 & 6  & 72,0 \\%  & 42,15 Mio. €  & 1,69 Mio. €  & tunesien           & 3670 \\\\\n",
       "\t Saudi-Arabien      & 26 & 26,7 & 6  & \\%       & 32,15 Mio. €  & 1,24 Mio. €  & saudi-arabien      & 3807 \\\\\n",
       "\t Japan              & 26 & 26,2 & 7  & 3,8 \\%   & 23,35 Mio. €  & 898 Tsd. €   & japan              & 3435 \\\\\n",
       "\t Südkorea           & 26 & 26,1 & 11 & 7,7 \\%   & 22,20 Mio. €  & 854 Tsd. €   & sudkorea           & 3589 \\\\\n",
       "\t Katar              & 27 & 26,3 & 1  & \\%       & 19,20 Mio. €  & 711 Tsd. €   & katar              & 14162\\\\\n",
       "\t Costa Rica         & 23 & 26,5 & 6  & 26,1 \\%  & 18,15 Mio. €  & 789 Tsd. €   & costa-rica         & 8497 \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "A data.frame: 32 × 9\n",
       "\n",
       "| Verein &lt;chr&gt; | Kader &lt;chr&gt; | &amp;oslash-Alter &lt;chr&gt; | WM-Teilnahmen &lt;chr&gt; | Legionäre &lt;chr&gt; | Marktwert &lt;chr&gt; | &amp;oslash-Marktwert &lt;chr&gt; | slug &lt;chr&gt; | club_id &lt;chr&gt; |\n",
       "|---|---|---|---|---|---|---|---|---|\n",
       "| England            | 27 | 25,6 | 16 | 11,1 %  | 1,29 Mrd. €   | 47,89 Mio. € | england            | 3299  |\n",
       "| Frankreich         | 25 | 26,9 | 16 | 84,0 %  | 1,06 Mrd. €   | 42,40 Mio. € | frankreich         | 3377  |\n",
       "| Brasilien          | 28 | 27,2 | 22 | 85,7 %  | 1,01 Mrd. €   | 36,23 Mio. € | brasilien          | 3439  |\n",
       "| Deutschland        | 25 | 26,6 | 20 | 16,0 %  | 824,50 Mio. € | 32,98 Mio. € | deutschland        | 3262  |\n",
       "| Portugal           | 23 | 27,3 | 8  | 73,9 %  | 772,00 Mio. € | 33,57 Mio. € | portugal           | 3300  |\n",
       "| Spanien            | 24 | 25,9 | 16 | 33,3 %  | 751,00 Mio. € | 31,29 Mio. € | spanien            | 3375  |\n",
       "| Argentinien        | 28 | 27,7 | 18 | 96,4 %  | 627,00 Mio. € | 22,39 Mio. € | argentinien        | 3437  |\n",
       "| Niederlande        | 25 | 26,7 | 11 | 60,0 %  | 495,40 Mio. € | 19,82 Mio. € | niederlande        | 3379  |\n",
       "| Uruguay            | 27 | 26,9 | 14 | 92,6 %  | 395,00 Mio. € | 14,63 Mio. € | uruguay            | 3449  |\n",
       "| Serbien            | 29 | 26,1 | 3  | 96,6 %  | 374,50 Mio. € | 12,91 Mio. € | serbien            | 3438  |\n",
       "| Kroatien           | 28 | 26,4 | 6  | 75,0 %  | 356,40 Mio. € | 12,73 Mio. € | kroatien           | 3556  |\n",
       "| Belgien            | 24 | 27,4 | 14 | 83,3 %  | 339,00 Mio. € | 14,13 Mio. € | belgien            | 3382  |\n",
       "| Polen              | 37 | 26,5 | 9  | 91,9 %  | 304,40 Mio. € | 8,23 Mio. €  | polen              | 3442  |\n",
       "| Senegal            | 26 | 26,8 | 3  | 100,0 % | 297,70 Mio. € | 11,45 Mio. € | senegal            | 3499  |\n",
       "| Dänemark           | 23 | 26,5 | 6  | 95,7 %  | 287,40 Mio. € | 12,50 Mio. € | danemark           | 3436  |\n",
       "| Schweiz            | 28 | 26,9 | 12 | 85,7 %  | 255,20 Mio. € | 9,11 Mio. €  | schweiz            | 3384  |\n",
       "| Marokko            | 31 | 26,7 | 6  | 87,1 %  | 237,93 Mio. € | 7,68 Mio. €  | marokko            | 3575  |\n",
       "| Vereinigte Staaten | 26 | 24,5 | 11 | 65,4 %  | 212,65 Mio. € | 8,18 Mio. €  | vereinigte-staaten | 3505  |\n",
       "| Kanada             | 25 | 26,8 | 2  | 68,0 %  | 176,30 Mio. € | 7,05 Mio. €  | kanada             | 3510  |\n",
       "| Wales              | 29 | 25,5 | 2  | 86,2 %  | 139,20 Mio. € | 4,80 Mio. €  | wales              | 3864  |\n",
       "| Kamerun            | 25 | 26,4 | 8  | 100,0 % | 114,30 Mio. € | 4,57 Mio. €  | kamerun            | 3434  |\n",
       "| Ghana              | 37 | 25,2 | 4  | 94,6 %  | 106,95 Mio. € | 2,89 Mio. €  | ghana              | 3441  |\n",
       "| Ecuador            | 28 | 25,2 | 4  | 82,1 %  | 102,75 Mio. € | 3,67 Mio. €  | ecuador            | 5750  |\n",
       "| Mexiko             | 23 | 25,8 | 17 | 26,1 %  | 92,70 Mio. €  | 4,03 Mio. €  | mexiko             | 6303  |\n",
       "| Iran               | 30 | 27,1 | 6  | 46,7 %  | 73,15 Mio. €  | 2,44 Mio. €  | iran               | 3582  |\n",
       "| Australien         | 35 | 27,6 | 6  | 71,4 %  | 50,63 Mio. €  | 1,45 Mio. €  | australien         | 3433  |\n",
       "| Tunesien           | 25 | 26,5 | 6  | 72,0 %  | 42,15 Mio. €  | 1,69 Mio. €  | tunesien           | 3670  |\n",
       "| Saudi-Arabien      | 26 | 26,7 | 6  | %       | 32,15 Mio. €  | 1,24 Mio. €  | saudi-arabien      | 3807  |\n",
       "| Japan              | 26 | 26,2 | 7  | 3,8 %   | 23,35 Mio. €  | 898 Tsd. €   | japan              | 3435  |\n",
       "| Südkorea           | 26 | 26,1 | 11 | 7,7 %   | 22,20 Mio. €  | 854 Tsd. €   | sudkorea           | 3589  |\n",
       "| Katar              | 27 | 26,3 | 1  | %       | 19,20 Mio. €  | 711 Tsd. €   | katar              | 14162 |\n",
       "| Costa Rica         | 23 | 26,5 | 6  | 26,1 %  | 18,15 Mio. €  | 789 Tsd. €   | costa-rica         | 8497  |\n",
       "\n"
      ],
      "text/plain": [
       "   Verein             Kader &oslash-Alter WM-Teilnahmen Legionäre Marktwert    \n",
       "1  England            27    25,6          16            11,1 %    1,29 Mrd. €  \n",
       "2  Frankreich         25    26,9          16            84,0 %    1,06 Mrd. €  \n",
       "3  Brasilien          28    27,2          22            85,7 %    1,01 Mrd. €  \n",
       "4  Deutschland        25    26,6          20            16,0 %    824,50 Mio. €\n",
       "5  Portugal           23    27,3          8             73,9 %    772,00 Mio. €\n",
       "6  Spanien            24    25,9          16            33,3 %    751,00 Mio. €\n",
       "7  Argentinien        28    27,7          18            96,4 %    627,00 Mio. €\n",
       "8  Niederlande        25    26,7          11            60,0 %    495,40 Mio. €\n",
       "9  Uruguay            27    26,9          14            92,6 %    395,00 Mio. €\n",
       "10 Serbien            29    26,1          3             96,6 %    374,50 Mio. €\n",
       "11 Kroatien           28    26,4          6             75,0 %    356,40 Mio. €\n",
       "12 Belgien            24    27,4          14            83,3 %    339,00 Mio. €\n",
       "13 Polen              37    26,5          9             91,9 %    304,40 Mio. €\n",
       "14 Senegal            26    26,8          3             100,0 %   297,70 Mio. €\n",
       "15 Dänemark           23    26,5          6             95,7 %    287,40 Mio. €\n",
       "16 Schweiz            28    26,9          12            85,7 %    255,20 Mio. €\n",
       "17 Marokko            31    26,7          6             87,1 %    237,93 Mio. €\n",
       "18 Vereinigte Staaten 26    24,5          11            65,4 %    212,65 Mio. €\n",
       "19 Kanada             25    26,8          2             68,0 %    176,30 Mio. €\n",
       "20 Wales              29    25,5          2             86,2 %    139,20 Mio. €\n",
       "21 Kamerun            25    26,4          8             100,0 %   114,30 Mio. €\n",
       "22 Ghana              37    25,2          4             94,6 %    106,95 Mio. €\n",
       "23 Ecuador            28    25,2          4             82,1 %    102,75 Mio. €\n",
       "24 Mexiko             23    25,8          17            26,1 %    92,70 Mio. € \n",
       "25 Iran               30    27,1          6             46,7 %    73,15 Mio. € \n",
       "26 Australien         35    27,6          6             71,4 %    50,63 Mio. € \n",
       "27 Tunesien           25    26,5          6             72,0 %    42,15 Mio. € \n",
       "28 Saudi-Arabien      26    26,7          6             %         32,15 Mio. € \n",
       "29 Japan              26    26,2          7             3,8 %     23,35 Mio. € \n",
       "30 Südkorea           26    26,1          11            7,7 %     22,20 Mio. € \n",
       "31 Katar              27    26,3          1             %         19,20 Mio. € \n",
       "32 Costa Rica         23    26,5          6             26,1 %    18,15 Mio. € \n",
       "   &oslash-Marktwert slug               club_id\n",
       "1  47,89 Mio. €      england            3299   \n",
       "2  42,40 Mio. €      frankreich         3377   \n",
       "3  36,23 Mio. €      brasilien          3439   \n",
       "4  32,98 Mio. €      deutschland        3262   \n",
       "5  33,57 Mio. €      portugal           3300   \n",
       "6  31,29 Mio. €      spanien            3375   \n",
       "7  22,39 Mio. €      argentinien        3437   \n",
       "8  19,82 Mio. €      niederlande        3379   \n",
       "9  14,63 Mio. €      uruguay            3449   \n",
       "10 12,91 Mio. €      serbien            3438   \n",
       "11 12,73 Mio. €      kroatien           3556   \n",
       "12 14,13 Mio. €      belgien            3382   \n",
       "13 8,23 Mio. €       polen              3442   \n",
       "14 11,45 Mio. €      senegal            3499   \n",
       "15 12,50 Mio. €      danemark           3436   \n",
       "16 9,11 Mio. €       schweiz            3384   \n",
       "17 7,68 Mio. €       marokko            3575   \n",
       "18 8,18 Mio. €       vereinigte-staaten 3505   \n",
       "19 7,05 Mio. €       kanada             3510   \n",
       "20 4,80 Mio. €       wales              3864   \n",
       "21 4,57 Mio. €       kamerun            3434   \n",
       "22 2,89 Mio. €       ghana              3441   \n",
       "23 3,67 Mio. €       ecuador            5750   \n",
       "24 4,03 Mio. €       mexiko             6303   \n",
       "25 2,44 Mio. €       iran               3582   \n",
       "26 1,45 Mio. €       australien         3433   \n",
       "27 1,69 Mio. €       tunesien           3670   \n",
       "28 1,24 Mio. €       saudi-arabien      3807   \n",
       "29 898 Tsd. €        japan              3435   \n",
       "30 854 Tsd. €        sudkorea           3589   \n",
       "31 711 Tsd. €        katar              14162  \n",
       "32 789 Tsd. €        costa-rica         8497   "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "df_wm = create_dataframeWM('teilnehmende teams an der wm')\n",
    "df_wm"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a56c177f",
   "metadata": {
    "papermill": {
     "duration": 0.013238,
     "end_time": "2022-08-10T15:33:50.638462",
     "exception": false,
     "start_time": "2022-08-10T15:33:50.625224",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Scrape Columns\n",
    "We wrote a function, that takes a url to scrape all tables"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "74d90b8a",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:50.653963Z",
     "iopub.status.busy": "2022-08-10T15:33:50.652428Z",
     "iopub.status.idle": "2022-08-10T15:33:50.668171Z",
     "shell.execute_reply": "2022-08-10T15:33:50.666358Z"
    },
    "papermill": {
     "duration": 0.026663,
     "end_time": "2022-08-10T15:33:50.671041",
     "exception": false,
     "start_time": "2022-08-10T15:33:50.644378",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "scrapeColumns = function(year, country, club_id, game_name) {\n",
    "\n",
    "  # base url\n",
    "\n",
    "  url = paste0(\"https://www.transfermarkt.com/\",\n",
    "               country,\n",
    "               \"/spielplan/verein/\",\n",
    "               club_id,\n",
    "               \"/plus/1?saison_id=\", year)\n",
    "\n",
    "  # read url\n",
    "\n",
    "  url %>%\n",
    "    read_html() -> html\n",
    "\n",
    "  # variables\n",
    "\n",
    "  columnValues = list() # a list containing all values\n",
    "  columnNames = NULL\n",
    "  box = NULL # searching for the table_header\n",
    "\n",
    "  # Obtain the correct responsive-table by name of table_header\n",
    "\n",
    "  html %>%\n",
    "    html_elements('.box') -> boxes\n",
    "\n",
    "  # Print the table headers\n",
    "\n",
    "  boxes\n",
    "\n",
    "  # Iterate over each table header to find the match with table_header\n",
    "  # argument\n",
    "\n",
    "  for (item in boxes) {\n",
    "\n",
    "    #print(item)\n",
    "\n",
    "    if(length(html_elements(item, '.table-header') %>% html_children())!= 0) {\n",
    "      item %>%\n",
    "        html_elements('.table-header a img') %>%\n",
    "        html_attr('title') -> name\n",
    "\n",
    "      print(name)\n",
    "    } else {\n",
    "      item %>%\n",
    "        html_elements('.table-header') %>%\n",
    "        html_text() %>%\n",
    "        trimStringArray() -> name\n",
    "\n",
    "        #print(name)\n",
    "    }\n",
    "\n",
    "    if (length(name) != 0 && grepl(tolower(game_name), tolower(name))) {\n",
    "      box = item\n",
    "      break\n",
    "    }\n",
    "  }\n",
    "\n",
    "  box\n",
    "\n",
    "  if(!is.null(box)) {\n",
    "      # Obtain the responsive_table\n",
    "\n",
    "      box %>%\n",
    "          html_elements('.responsive-table') -> responsive_table\n",
    "\n",
    "      # print the responsive-table\n",
    "\n",
    "      responsive_table\n",
    "\n",
    "      # obtain the columnNames\n",
    "\n",
    "      responsive_table %>%\n",
    "          html_elements('th') %>%\n",
    "          html_text -> columnNames\n",
    "\n",
    "      # print columnNames\n",
    "\n",
    "      columnNames\n",
    "\n",
    "      # obtain length of a all true columns\n",
    "\n",
    "      responsive_table %>%\n",
    "          html_elements('tbody tr:nth-of-type(1) td') %>%\n",
    "          length() -> trueColumnsLength\n",
    "\n",
    "      # print the length of all true columns\n",
    "\n",
    "      trueColumnsLength\n",
    "\n",
    "      for (i in 1:trueColumnsLength) {\n",
    "          # create css selector string\n",
    "          # td:not([class*=\"no-border-rechts\"]\n",
    "          string = paste0('tbody tr td:not([class*=\"no-border-rechts\"]):nth-of-type(', i,')')\n",
    "\n",
    "          # print the css selector string\n",
    "\n",
    "          string\n",
    "\n",
    "          # obtain all row elements of specified column\n",
    "\n",
    "          responsive_table %>%\n",
    "              html_elements(string) -> html_node\n",
    "\n",
    "          # print all row elements of specified column\n",
    "\n",
    "          html_node\n",
    "\n",
    "          # only add the values if they are valid!!!\n",
    "\n",
    "          if(length(html_node) != 0) {\n",
    "              # obtain the children (if any) from the row elements\n",
    "              # of specified column\n",
    "\n",
    "              html_node %>%\n",
    "                  html_children() -> children\n",
    "\n",
    "              # print the children\n",
    "\n",
    "              children\n",
    "\n",
    "              # check the number of children contained within\n",
    "\n",
    "              num_of_children = length(children)\n",
    "\n",
    "              # print the number of children (if any)\n",
    "\n",
    "              num_of_children\n",
    "\n",
    "              # check if a child contains any subchildren\n",
    "\n",
    "              children %>%\n",
    "                  html_children() -> subchildren\n",
    "\n",
    "              # print subchildren\n",
    "\n",
    "              subchildren\n",
    "\n",
    "              # check the number of children contained within\n",
    "\n",
    "              num_of_subchildren = length(subchildren)\n",
    "\n",
    "              # print number of subchildren\n",
    "\n",
    "              num_of_subchildren\n",
    "\n",
    "              # dynammically apply a search for the values\n",
    "              # according to the number of children\n",
    "\n",
    "              if (num_of_subchildren > 0) {\n",
    "                  responsive_table %>%\n",
    "                      html_elements(string) %>%\n",
    "                      html_elements('a > span') %>%\n",
    "                      html_text() -> values\n",
    "              } else if (num_of_children > 0) {\n",
    "                  responsive_table %>%\n",
    "                      html_elements(string) %>%\n",
    "                      html_elements('a') %>%\n",
    "                      html_attr('title') -> values\n",
    "              } else {\n",
    "                  responsive_table %>%\n",
    "                      html_elements(string) %>%\n",
    "                      html_text -> values\n",
    "              }\n",
    "\n",
    "              # wrap the obtained values within a list\n",
    "\n",
    "              list(values)\n",
    "\n",
    "              # iterate over all children by\n",
    "\n",
    "              values = trimStringArray(values)\n",
    "\n",
    "              # Add this column to the columnValues list\n",
    "\n",
    "              columnValues = append(columnValues, list(values))\n",
    "          }\n",
    "          else {\n",
    "              print(paste0(\"Column \", i, \" is not a valid value\"))\n",
    "          }\n",
    "\n",
    "      }\n",
    "\n",
    "      # return list\n",
    "      list(columnNames, columnValues)\n",
    "  } else {\n",
    "      NULL\n",
    "  }\n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "82279ad0",
   "metadata": {
    "papermill": {
     "duration": 0.005959,
     "end_time": "2022-08-10T15:33:50.682853",
     "exception": false,
     "start_time": "2022-08-10T15:33:50.676894",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Create Dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "d3feff78",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:50.698409Z",
     "iopub.status.busy": "2022-08-10T15:33:50.696697Z",
     "iopub.status.idle": "2022-08-10T15:33:50.711375Z",
     "shell.execute_reply": "2022-08-10T15:33:50.709547Z"
    },
    "papermill": {
     "duration": 0.025679,
     "end_time": "2022-08-10T15:33:50.714318",
     "exception": false,
     "start_time": "2022-08-10T15:33:50.688639",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "createDataframe = function(year, country, club_id, game_name) {\n",
    "\n",
    "  list = scrapeColumns(year, country, club_id, game_name)\n",
    "\n",
    "  if(!is.null(list)) {\n",
    "      columns = list[[2]]\n",
    "      columnNames = list[[1]]\n",
    "\n",
    "      # create a dataframe with first colum and append the rest (workaround)\n",
    "      df_test = data.frame(columns[[1]])\n",
    "\n",
    "      for (i in 2:length(columns)) {\n",
    "          df_test[i] = columns[[i]]\n",
    "      }\n",
    "\n",
    "      names(df_test) = columnNames\n",
    "      df_test\n",
    "  } else {\n",
    "      NULL\n",
    "  }\n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "346f28fc",
   "metadata": {
    "papermill": {
     "duration": 0.00596,
     "end_time": "2022-08-10T15:33:50.726562",
     "exception": false,
     "start_time": "2022-08-10T15:33:50.720602",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Testing Section"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "3ee778e8",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:33:50.741771Z",
     "iopub.status.busy": "2022-08-10T15:33:50.740060Z",
     "iopub.status.idle": "2022-08-10T15:34:08.469666Z",
     "shell.execute_reply": "2022-08-10T15:34:08.467901Z"
    },
    "papermill": {
     "duration": 17.740066,
     "end_time": "2022-08-10T15:34:08.472505",
     "exception": false,
     "start_time": "2022-08-10T15:33:50.732439",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "character(0)\n",
      "[1] \"European Qualifiers\"\n",
      "[1] \"International Friendlies\"\n",
      "[1] \"World Cup 2010\"\n",
      "[1] \"Column 4 is not a valid value\"\n",
      "[1] \"Column 6 is not a valid value\"\n",
      "character(0)\n",
      "[1] \"European Qualifiers\"\n",
      "[1] \"International Friendlies\"\n",
      "character(0)\n",
      "[1] \"World Cup qualification Europe\"\n",
      "[1] \"International Friendlies\"\n",
      "[1] \"EURO 2012\"\n",
      "character(0)\n",
      "[1] \"World Cup qualification Europe\"\n",
      "[1] \"International Friendlies\"\n",
      "character(0)\n",
      "[1] \"European Qualifiers\"\n",
      "[1] \"International Friendlies\"\n",
      "[1] \"World Cup 2014\"\n",
      "[1] \"Column 4 is not a valid value\"\n",
      "[1] \"Column 6 is not a valid value\"\n",
      "character(0)\n",
      "[1] \"European Qualifiers\"\n",
      "[1] \"International Friendlies\"\n",
      "character(0)\n",
      "[1] \"World Cup qualification Europe\"\n",
      "[1] \"EURO 2016\"\n",
      "[1] \"International Friendlies\"\n",
      "character(0)\n",
      "[1] \"World Cup qualification Europe\"\n",
      "[1] \"International Friendlies\"\n",
      "character(0)\n",
      "[1] \"International Friendlies\"\n",
      "[1] \"UEFA Nations League A\"\n",
      "[1] \"World Cup 2018\"\n",
      "[1] \"Column 4 is not a valid value\"\n",
      "[1] \"Column 6 is not a valid value\"\n",
      "character(0)\n",
      "[1] \"European Qualifiers\"\n",
      "[1] \"UEFA Nations League Finals\"\n",
      "character(0)\n",
      "[1] \"International Friendlies\"\n",
      "[1] \"UEFA Nations League A\"\n",
      "character(0)\n",
      "[1] \"EURO 2020\"\n",
      "[1] \"World Cup qualification Europe\"\n",
      "[1] \"International Friendlies\"\n",
      "character(0)\n",
      "character(0)\n",
      "[1] \"International Friendlies\"\n",
      "[1] \"UEFA Nations League A\"\n",
      "[1] \"World Cup 2022\"\n",
      "[1] \"Column 4 is not a valid value\"\n",
      "[1] \"Column 6 is not a valid value\"\n",
      "character(0)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<table class=\"dataframe\">\n",
       "<caption>A data.frame: 17 × 9</caption>\n",
       "<thead>\n",
       "\t<tr><th scope=col>Matchday</th><th scope=col>Date</th><th scope=col>Time</th><th scope=col>Home team</th><th scope=col>Away team</th><th scope=col>System of play</th><th scope=col>Coach</th><th scope=col>Attendance</th><th scope=col>Result</th></tr>\n",
       "\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n",
       "</thead>\n",
       "<tbody>\n",
       "\t<tr><td>Group C             </td><td>Sat Jun 12, 2010</td><td>8:30 PM </td><td>England   </td><td>United States</td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>38.646</td><td>1:1         </td></tr>\n",
       "\t<tr><td>Group C             </td><td>Fri Jun 18, 2010</td><td>8:30 PM </td><td>England   </td><td>Algeria      </td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>64.100</td><td>0:0         </td></tr>\n",
       "\t<tr><td>Group C             </td><td>Wed Jun 23, 2010</td><td>4:00 PM </td><td>Slovenia  </td><td>England      </td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>36.893</td><td>0:1         </td></tr>\n",
       "\t<tr><td>Round of 16         </td><td>Sun Jun 27, 2010</td><td>4:00 PM </td><td>Germany   </td><td>England      </td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>40.510</td><td>4:1         </td></tr>\n",
       "\t<tr><td>Group D             </td><td>Sun Jun 15, 2014</td><td>12:00 AM</td><td>England   </td><td>Italy        </td><td>4-2-3-1       </td><td>Roy Hodgson     </td><td>39.800</td><td>1:2         </td></tr>\n",
       "\t<tr><td>Group D             </td><td>Thu Jun 19, 2014</td><td>9:00 PM </td><td>Uruguay   </td><td>England      </td><td>4-2-3-1       </td><td>Roy Hodgson     </td><td>62.103</td><td>2:1         </td></tr>\n",
       "\t<tr><td>Group D             </td><td>Tue Jun 24, 2014</td><td>6:00 PM </td><td>Costa Rica</td><td>England      </td><td>4-2-3-1       </td><td>Roy Hodgson     </td><td>57.823</td><td>0:0         </td></tr>\n",
       "\t<tr><td>Group G             </td><td>Mon Jun 18, 2018</td><td>8:00 PM </td><td>Tunisia   </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>41.064</td><td>1:2         </td></tr>\n",
       "\t<tr><td>Group G             </td><td>Sun Jun 24, 2018</td><td>2:00 PM </td><td>England   </td><td>Panama       </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>43.319</td><td>6:1         </td></tr>\n",
       "\t<tr><td>Group G             </td><td>Thu Jun 28, 2018</td><td>8:00 PM </td><td>England   </td><td>Belgium      </td><td>3-5-2 flat    </td><td>Gareth Southgate</td><td>33.973</td><td>0:1         </td></tr>\n",
       "\t<tr><td>Round of 16         </td><td>Tue Jul 3, 2018 </td><td>8:00 PM </td><td>Colombia  </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>44.190</td><td>4:5  on pens</td></tr>\n",
       "\t<tr><td>Quarter-Finals      </td><td>Sat Jul 7, 2018 </td><td>4:00 PM </td><td>Sweden    </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>39.991</td><td>0:2         </td></tr>\n",
       "\t<tr><td>Semi-Finals         </td><td>Wed Jul 11, 2018</td><td>8:00 PM </td><td>Croatia   </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>78.011</td><td>2:1  AET    </td></tr>\n",
       "\t<tr><td>Third Place Play-Off</td><td>Sat Jul 14, 2018</td><td>4:00 PM </td><td>Belgium   </td><td>England      </td><td>3-5-2 flat    </td><td>Gareth Southgate</td><td>64.406</td><td>2:0         </td></tr>\n",
       "\t<tr><td>Group B             </td><td>Mon Nov 21, 2022</td><td>2:00 PM </td><td>England   </td><td>Iran         </td><td>?             </td><td>Gareth Southgate</td><td>      </td><td>-:-         </td></tr>\n",
       "\t<tr><td>Group B             </td><td>Fri Nov 25, 2022</td><td>8:00 PM </td><td>England   </td><td>United States</td><td>?             </td><td>Gareth Southgate</td><td>      </td><td>-:-         </td></tr>\n",
       "\t<tr><td>Group B             </td><td>Tue Nov 29, 2022</td><td>8:00 PM </td><td>Wales     </td><td>England      </td><td>?             </td><td>Gareth Southgate</td><td>      </td><td>-:-         </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "A data.frame: 17 × 9\n",
       "\\begin{tabular}{lllllllll}\n",
       " Matchday & Date & Time & Home team & Away team & System of play & Coach & Attendance & Result\\\\\n",
       " <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr>\\\\\n",
       "\\hline\n",
       "\t Group C              & Sat Jun 12, 2010 & 8:30 PM  & England    & United States & 4-4-2 double 6 & Fabio Capello    & 38.646 & 1:1         \\\\\n",
       "\t Group C              & Fri Jun 18, 2010 & 8:30 PM  & England    & Algeria       & 4-4-2 double 6 & Fabio Capello    & 64.100 & 0:0         \\\\\n",
       "\t Group C              & Wed Jun 23, 2010 & 4:00 PM  & Slovenia   & England       & 4-4-2 double 6 & Fabio Capello    & 36.893 & 0:1         \\\\\n",
       "\t Round of 16          & Sun Jun 27, 2010 & 4:00 PM  & Germany    & England       & 4-4-2 double 6 & Fabio Capello    & 40.510 & 4:1         \\\\\n",
       "\t Group D              & Sun Jun 15, 2014 & 12:00 AM & England    & Italy         & 4-2-3-1        & Roy Hodgson      & 39.800 & 1:2         \\\\\n",
       "\t Group D              & Thu Jun 19, 2014 & 9:00 PM  & Uruguay    & England       & 4-2-3-1        & Roy Hodgson      & 62.103 & 2:1         \\\\\n",
       "\t Group D              & Tue Jun 24, 2014 & 6:00 PM  & Costa Rica & England       & 4-2-3-1        & Roy Hodgson      & 57.823 & 0:0         \\\\\n",
       "\t Group G              & Mon Jun 18, 2018 & 8:00 PM  & Tunisia    & England       & 3-1-4-2        & Gareth Southgate & 41.064 & 1:2         \\\\\n",
       "\t Group G              & Sun Jun 24, 2018 & 2:00 PM  & England    & Panama        & 3-1-4-2        & Gareth Southgate & 43.319 & 6:1         \\\\\n",
       "\t Group G              & Thu Jun 28, 2018 & 8:00 PM  & England    & Belgium       & 3-5-2 flat     & Gareth Southgate & 33.973 & 0:1         \\\\\n",
       "\t Round of 16          & Tue Jul 3, 2018  & 8:00 PM  & Colombia   & England       & 3-1-4-2        & Gareth Southgate & 44.190 & 4:5  on pens\\\\\n",
       "\t Quarter-Finals       & Sat Jul 7, 2018  & 4:00 PM  & Sweden     & England       & 3-1-4-2        & Gareth Southgate & 39.991 & 0:2         \\\\\n",
       "\t Semi-Finals          & Wed Jul 11, 2018 & 8:00 PM  & Croatia    & England       & 3-1-4-2        & Gareth Southgate & 78.011 & 2:1  AET    \\\\\n",
       "\t Third Place Play-Off & Sat Jul 14, 2018 & 4:00 PM  & Belgium    & England       & 3-5-2 flat     & Gareth Southgate & 64.406 & 2:0         \\\\\n",
       "\t Group B              & Mon Nov 21, 2022 & 2:00 PM  & England    & Iran          & ?              & Gareth Southgate &        & -:-         \\\\\n",
       "\t Group B              & Fri Nov 25, 2022 & 8:00 PM  & England    & United States & ?              & Gareth Southgate &        & -:-         \\\\\n",
       "\t Group B              & Tue Nov 29, 2022 & 8:00 PM  & Wales      & England       & ?              & Gareth Southgate &        & -:-         \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "A data.frame: 17 × 9\n",
       "\n",
       "| Matchday &lt;chr&gt; | Date &lt;chr&gt; | Time &lt;chr&gt; | Home team &lt;chr&gt; | Away team &lt;chr&gt; | System of play &lt;chr&gt; | Coach &lt;chr&gt; | Attendance &lt;chr&gt; | Result &lt;chr&gt; |\n",
       "|---|---|---|---|---|---|---|---|---|\n",
       "| Group C              | Sat Jun 12, 2010 | 8:30 PM  | England    | United States | 4-4-2 double 6 | Fabio Capello    | 38.646 | 1:1          |\n",
       "| Group C              | Fri Jun 18, 2010 | 8:30 PM  | England    | Algeria       | 4-4-2 double 6 | Fabio Capello    | 64.100 | 0:0          |\n",
       "| Group C              | Wed Jun 23, 2010 | 4:00 PM  | Slovenia   | England       | 4-4-2 double 6 | Fabio Capello    | 36.893 | 0:1          |\n",
       "| Round of 16          | Sun Jun 27, 2010 | 4:00 PM  | Germany    | England       | 4-4-2 double 6 | Fabio Capello    | 40.510 | 4:1          |\n",
       "| Group D              | Sun Jun 15, 2014 | 12:00 AM | England    | Italy         | 4-2-3-1        | Roy Hodgson      | 39.800 | 1:2          |\n",
       "| Group D              | Thu Jun 19, 2014 | 9:00 PM  | Uruguay    | England       | 4-2-3-1        | Roy Hodgson      | 62.103 | 2:1          |\n",
       "| Group D              | Tue Jun 24, 2014 | 6:00 PM  | Costa Rica | England       | 4-2-3-1        | Roy Hodgson      | 57.823 | 0:0          |\n",
       "| Group G              | Mon Jun 18, 2018 | 8:00 PM  | Tunisia    | England       | 3-1-4-2        | Gareth Southgate | 41.064 | 1:2          |\n",
       "| Group G              | Sun Jun 24, 2018 | 2:00 PM  | England    | Panama        | 3-1-4-2        | Gareth Southgate | 43.319 | 6:1          |\n",
       "| Group G              | Thu Jun 28, 2018 | 8:00 PM  | England    | Belgium       | 3-5-2 flat     | Gareth Southgate | 33.973 | 0:1          |\n",
       "| Round of 16          | Tue Jul 3, 2018  | 8:00 PM  | Colombia   | England       | 3-1-4-2        | Gareth Southgate | 44.190 | 4:5  on pens |\n",
       "| Quarter-Finals       | Sat Jul 7, 2018  | 4:00 PM  | Sweden     | England       | 3-1-4-2        | Gareth Southgate | 39.991 | 0:2          |\n",
       "| Semi-Finals          | Wed Jul 11, 2018 | 8:00 PM  | Croatia    | England       | 3-1-4-2        | Gareth Southgate | 78.011 | 2:1  AET     |\n",
       "| Third Place Play-Off | Sat Jul 14, 2018 | 4:00 PM  | Belgium    | England       | 3-5-2 flat     | Gareth Southgate | 64.406 | 2:0          |\n",
       "| Group B              | Mon Nov 21, 2022 | 2:00 PM  | England    | Iran          | ?              | Gareth Southgate | <!----> | -:-          |\n",
       "| Group B              | Fri Nov 25, 2022 | 8:00 PM  | England    | United States | ?              | Gareth Southgate | <!----> | -:-          |\n",
       "| Group B              | Tue Nov 29, 2022 | 8:00 PM  | Wales      | England       | ?              | Gareth Southgate | <!----> | -:-          |\n",
       "\n"
      ],
      "text/plain": [
       "   Matchday             Date             Time     Home team  Away team    \n",
       "1  Group C              Sat Jun 12, 2010 8:30 PM  England    United States\n",
       "2  Group C              Fri Jun 18, 2010 8:30 PM  England    Algeria      \n",
       "3  Group C              Wed Jun 23, 2010 4:00 PM  Slovenia   England      \n",
       "4  Round of 16          Sun Jun 27, 2010 4:00 PM  Germany    England      \n",
       "5  Group D              Sun Jun 15, 2014 12:00 AM England    Italy        \n",
       "6  Group D              Thu Jun 19, 2014 9:00 PM  Uruguay    England      \n",
       "7  Group D              Tue Jun 24, 2014 6:00 PM  Costa Rica England      \n",
       "8  Group G              Mon Jun 18, 2018 8:00 PM  Tunisia    England      \n",
       "9  Group G              Sun Jun 24, 2018 2:00 PM  England    Panama       \n",
       "10 Group G              Thu Jun 28, 2018 8:00 PM  England    Belgium      \n",
       "11 Round of 16          Tue Jul 3, 2018  8:00 PM  Colombia   England      \n",
       "12 Quarter-Finals       Sat Jul 7, 2018  4:00 PM  Sweden     England      \n",
       "13 Semi-Finals          Wed Jul 11, 2018 8:00 PM  Croatia    England      \n",
       "14 Third Place Play-Off Sat Jul 14, 2018 4:00 PM  Belgium    England      \n",
       "15 Group B              Mon Nov 21, 2022 2:00 PM  England    Iran         \n",
       "16 Group B              Fri Nov 25, 2022 8:00 PM  England    United States\n",
       "17 Group B              Tue Nov 29, 2022 8:00 PM  Wales      England      \n",
       "   System of play Coach            Attendance Result      \n",
       "1  4-4-2 double 6 Fabio Capello    38.646     1:1         \n",
       "2  4-4-2 double 6 Fabio Capello    64.100     0:0         \n",
       "3  4-4-2 double 6 Fabio Capello    36.893     0:1         \n",
       "4  4-4-2 double 6 Fabio Capello    40.510     4:1         \n",
       "5  4-2-3-1        Roy Hodgson      39.800     1:2         \n",
       "6  4-2-3-1        Roy Hodgson      62.103     2:1         \n",
       "7  4-2-3-1        Roy Hodgson      57.823     0:0         \n",
       "8  3-1-4-2        Gareth Southgate 41.064     1:2         \n",
       "9  3-1-4-2        Gareth Southgate 43.319     6:1         \n",
       "10 3-5-2 flat     Gareth Southgate 33.973     0:1         \n",
       "11 3-1-4-2        Gareth Southgate 44.190     4:5  on pens\n",
       "12 3-1-4-2        Gareth Southgate 39.991     0:2         \n",
       "13 3-1-4-2        Gareth Southgate 78.011     2:1  AET    \n",
       "14 3-5-2 flat     Gareth Southgate 64.406     2:0         \n",
       "15 ?              Gareth Southgate            -:-         \n",
       "16 ?              Gareth Southgate            -:-         \n",
       "17 ?              Gareth Southgate            -:-         "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Scraping the international friendlies\n",
    "df_football = NULL\n",
    "\n",
    "for (i in 2009:2022) {\n",
    "    if (!is.data.frame(df_football)) {\n",
    "        df_football = createDataframe(i, 'england', 3299, 'world cup [0-9]+')\n",
    "    } else {\n",
    "        df_football_test = createDataframe(i, 'england', 3299, 'world cup [0-9]+')\n",
    "        # test if df_football_test is null\n",
    "        if(!is.null(df_football_test)) {\n",
    "            df_football = rbind(df_football, df_football_test)\n",
    "        } else {\n",
    "            # do nothing...\n",
    "        }\n",
    "    }\n",
    "}\n",
    "df_football"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "12e923b3",
   "metadata": {
    "papermill": {
     "duration": 0.006892,
     "end_time": "2022-08-10T15:34:08.486440",
     "exception": false,
     "start_time": "2022-08-10T15:34:08.479548",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# Split Result in Goals"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "dd0a471c",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-08-10T15:34:08.502861Z",
     "iopub.status.busy": "2022-08-10T15:34:08.501337Z",
     "iopub.status.idle": "2022-08-10T15:34:08.607806Z",
     "shell.execute_reply": "2022-08-10T15:34:08.606144Z"
    },
    "papermill": {
     "duration": 0.117235,
     "end_time": "2022-08-10T15:34:08.610146",
     "exception": false,
     "start_time": "2022-08-10T15:34:08.492911",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style>\n",
       ".list-inline {list-style: none; margin:0; padding: 0}\n",
       ".list-inline>li {display: inline-block}\n",
       ".list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n",
       "</style>\n",
       "<ol class=list-inline><li>'1'</li><li>'0'</li><li>'0'</li><li>'4'</li><li>'1'</li><li>'2'</li><li>'0'</li><li>'1'</li><li>'6'</li><li>'0'</li><li>'4'</li><li>'0'</li><li>'2'</li><li>'2'</li><li>'-'</li><li>'-'</li><li>'-'</li></ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item '1'\n",
       "\\item '0'\n",
       "\\item '0'\n",
       "\\item '4'\n",
       "\\item '1'\n",
       "\\item '2'\n",
       "\\item '0'\n",
       "\\item '1'\n",
       "\\item '6'\n",
       "\\item '0'\n",
       "\\item '4'\n",
       "\\item '0'\n",
       "\\item '2'\n",
       "\\item '2'\n",
       "\\item '-'\n",
       "\\item '-'\n",
       "\\item '-'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. '1'\n",
       "2. '0'\n",
       "3. '0'\n",
       "4. '4'\n",
       "5. '1'\n",
       "6. '2'\n",
       "7. '0'\n",
       "8. '1'\n",
       "9. '6'\n",
       "10. '0'\n",
       "11. '4'\n",
       "12. '0'\n",
       "13. '2'\n",
       "14. '2'\n",
       "15. '-'\n",
       "16. '-'\n",
       "17. '-'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] \"1\" \"0\" \"0\" \"4\" \"1\" \"2\" \"0\" \"1\" \"6\" \"0\" \"4\" \"0\" \"2\" \"2\" \"-\" \"-\" \"-\""
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table class=\"dataframe\">\n",
       "<caption>A data.frame: 17 × 11</caption>\n",
       "<thead>\n",
       "\t<tr><th scope=col>Matchday</th><th scope=col>Date</th><th scope=col>Time</th><th scope=col>Home team</th><th scope=col>Away team</th><th scope=col>System of play</th><th scope=col>Coach</th><th scope=col>Attendance</th><th scope=col>Result</th><th scope=col>goals_scored_links</th><th scope=col>goals_scored_rechts</th></tr>\n",
       "\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n",
       "</thead>\n",
       "<tbody>\n",
       "\t<tr><td>Group C             </td><td>Sat Jun 12, 2010</td><td>8:30 PM </td><td>England   </td><td>United States</td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>38.646</td><td>1:1         </td><td>1</td><td>1         </td></tr>\n",
       "\t<tr><td>Group C             </td><td>Fri Jun 18, 2010</td><td>8:30 PM </td><td>England   </td><td>Algeria      </td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>64.100</td><td>0:0         </td><td>0</td><td>0         </td></tr>\n",
       "\t<tr><td>Group C             </td><td>Wed Jun 23, 2010</td><td>4:00 PM </td><td>Slovenia  </td><td>England      </td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>36.893</td><td>0:1         </td><td>0</td><td>1         </td></tr>\n",
       "\t<tr><td>Round of 16         </td><td>Sun Jun 27, 2010</td><td>4:00 PM </td><td>Germany   </td><td>England      </td><td>4-4-2 double 6</td><td>Fabio Capello   </td><td>40.510</td><td>4:1         </td><td>4</td><td>1         </td></tr>\n",
       "\t<tr><td>Group D             </td><td>Sun Jun 15, 2014</td><td>12:00 AM</td><td>England   </td><td>Italy        </td><td>4-2-3-1       </td><td>Roy Hodgson     </td><td>39.800</td><td>1:2         </td><td>1</td><td>2         </td></tr>\n",
       "\t<tr><td>Group D             </td><td>Thu Jun 19, 2014</td><td>9:00 PM </td><td>Uruguay   </td><td>England      </td><td>4-2-3-1       </td><td>Roy Hodgson     </td><td>62.103</td><td>2:1         </td><td>2</td><td>1         </td></tr>\n",
       "\t<tr><td>Group D             </td><td>Tue Jun 24, 2014</td><td>6:00 PM </td><td>Costa Rica</td><td>England      </td><td>4-2-3-1       </td><td>Roy Hodgson     </td><td>57.823</td><td>0:0         </td><td>0</td><td>0         </td></tr>\n",
       "\t<tr><td>Group G             </td><td>Mon Jun 18, 2018</td><td>8:00 PM </td><td>Tunisia   </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>41.064</td><td>1:2         </td><td>1</td><td>2         </td></tr>\n",
       "\t<tr><td>Group G             </td><td>Sun Jun 24, 2018</td><td>2:00 PM </td><td>England   </td><td>Panama       </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>43.319</td><td>6:1         </td><td>6</td><td>1         </td></tr>\n",
       "\t<tr><td>Group G             </td><td>Thu Jun 28, 2018</td><td>8:00 PM </td><td>England   </td><td>Belgium      </td><td>3-5-2 flat    </td><td>Gareth Southgate</td><td>33.973</td><td>0:1         </td><td>0</td><td>1         </td></tr>\n",
       "\t<tr><td>Round of 16         </td><td>Tue Jul 3, 2018 </td><td>8:00 PM </td><td>Colombia  </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>44.190</td><td>4:5  on pens</td><td>4</td><td>5  on pens</td></tr>\n",
       "\t<tr><td>Quarter-Finals      </td><td>Sat Jul 7, 2018 </td><td>4:00 PM </td><td>Sweden    </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>39.991</td><td>0:2         </td><td>0</td><td>2         </td></tr>\n",
       "\t<tr><td>Semi-Finals         </td><td>Wed Jul 11, 2018</td><td>8:00 PM </td><td>Croatia   </td><td>England      </td><td>3-1-4-2       </td><td>Gareth Southgate</td><td>78.011</td><td>2:1  AET    </td><td>2</td><td>1  AET    </td></tr>\n",
       "\t<tr><td>Third Place Play-Off</td><td>Sat Jul 14, 2018</td><td>4:00 PM </td><td>Belgium   </td><td>England      </td><td>3-5-2 flat    </td><td>Gareth Southgate</td><td>64.406</td><td>2:0         </td><td>2</td><td>0         </td></tr>\n",
       "\t<tr><td>Group B             </td><td>Mon Nov 21, 2022</td><td>2:00 PM </td><td>England   </td><td>Iran         </td><td>?             </td><td>Gareth Southgate</td><td>      </td><td>-:-         </td><td>-</td><td>-         </td></tr>\n",
       "\t<tr><td>Group B             </td><td>Fri Nov 25, 2022</td><td>8:00 PM </td><td>England   </td><td>United States</td><td>?             </td><td>Gareth Southgate</td><td>      </td><td>-:-         </td><td>-</td><td>-         </td></tr>\n",
       "\t<tr><td>Group B             </td><td>Tue Nov 29, 2022</td><td>8:00 PM </td><td>Wales     </td><td>England      </td><td>?             </td><td>Gareth Southgate</td><td>      </td><td>-:-         </td><td>-</td><td>-         </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "A data.frame: 17 × 11\n",
       "\\begin{tabular}{lllllllllll}\n",
       " Matchday & Date & Time & Home team & Away team & System of play & Coach & Attendance & Result & goals\\_scored\\_links & goals\\_scored\\_rechts\\\\\n",
       " <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr>\\\\\n",
       "\\hline\n",
       "\t Group C              & Sat Jun 12, 2010 & 8:30 PM  & England    & United States & 4-4-2 double 6 & Fabio Capello    & 38.646 & 1:1          & 1 & 1         \\\\\n",
       "\t Group C              & Fri Jun 18, 2010 & 8:30 PM  & England    & Algeria       & 4-4-2 double 6 & Fabio Capello    & 64.100 & 0:0          & 0 & 0         \\\\\n",
       "\t Group C              & Wed Jun 23, 2010 & 4:00 PM  & Slovenia   & England       & 4-4-2 double 6 & Fabio Capello    & 36.893 & 0:1          & 0 & 1         \\\\\n",
       "\t Round of 16          & Sun Jun 27, 2010 & 4:00 PM  & Germany    & England       & 4-4-2 double 6 & Fabio Capello    & 40.510 & 4:1          & 4 & 1         \\\\\n",
       "\t Group D              & Sun Jun 15, 2014 & 12:00 AM & England    & Italy         & 4-2-3-1        & Roy Hodgson      & 39.800 & 1:2          & 1 & 2         \\\\\n",
       "\t Group D              & Thu Jun 19, 2014 & 9:00 PM  & Uruguay    & England       & 4-2-3-1        & Roy Hodgson      & 62.103 & 2:1          & 2 & 1         \\\\\n",
       "\t Group D              & Tue Jun 24, 2014 & 6:00 PM  & Costa Rica & England       & 4-2-3-1        & Roy Hodgson      & 57.823 & 0:0          & 0 & 0         \\\\\n",
       "\t Group G              & Mon Jun 18, 2018 & 8:00 PM  & Tunisia    & England       & 3-1-4-2        & Gareth Southgate & 41.064 & 1:2          & 1 & 2         \\\\\n",
       "\t Group G              & Sun Jun 24, 2018 & 2:00 PM  & England    & Panama        & 3-1-4-2        & Gareth Southgate & 43.319 & 6:1          & 6 & 1         \\\\\n",
       "\t Group G              & Thu Jun 28, 2018 & 8:00 PM  & England    & Belgium       & 3-5-2 flat     & Gareth Southgate & 33.973 & 0:1          & 0 & 1         \\\\\n",
       "\t Round of 16          & Tue Jul 3, 2018  & 8:00 PM  & Colombia   & England       & 3-1-4-2        & Gareth Southgate & 44.190 & 4:5  on pens & 4 & 5  on pens\\\\\n",
       "\t Quarter-Finals       & Sat Jul 7, 2018  & 4:00 PM  & Sweden     & England       & 3-1-4-2        & Gareth Southgate & 39.991 & 0:2          & 0 & 2         \\\\\n",
       "\t Semi-Finals          & Wed Jul 11, 2018 & 8:00 PM  & Croatia    & England       & 3-1-4-2        & Gareth Southgate & 78.011 & 2:1  AET     & 2 & 1  AET    \\\\\n",
       "\t Third Place Play-Off & Sat Jul 14, 2018 & 4:00 PM  & Belgium    & England       & 3-5-2 flat     & Gareth Southgate & 64.406 & 2:0          & 2 & 0         \\\\\n",
       "\t Group B              & Mon Nov 21, 2022 & 2:00 PM  & England    & Iran          & ?              & Gareth Southgate &        & -:-          & - & -         \\\\\n",
       "\t Group B              & Fri Nov 25, 2022 & 8:00 PM  & England    & United States & ?              & Gareth Southgate &        & -:-          & - & -         \\\\\n",
       "\t Group B              & Tue Nov 29, 2022 & 8:00 PM  & Wales      & England       & ?              & Gareth Southgate &        & -:-          & - & -         \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "A data.frame: 17 × 11\n",
       "\n",
       "| Matchday &lt;chr&gt; | Date &lt;chr&gt; | Time &lt;chr&gt; | Home team &lt;chr&gt; | Away team &lt;chr&gt; | System of play &lt;chr&gt; | Coach &lt;chr&gt; | Attendance &lt;chr&gt; | Result &lt;chr&gt; | goals_scored_links &lt;chr&gt; | goals_scored_rechts &lt;chr&gt; |\n",
       "|---|---|---|---|---|---|---|---|---|---|---|\n",
       "| Group C              | Sat Jun 12, 2010 | 8:30 PM  | England    | United States | 4-4-2 double 6 | Fabio Capello    | 38.646 | 1:1          | 1 | 1          |\n",
       "| Group C              | Fri Jun 18, 2010 | 8:30 PM  | England    | Algeria       | 4-4-2 double 6 | Fabio Capello    | 64.100 | 0:0          | 0 | 0          |\n",
       "| Group C              | Wed Jun 23, 2010 | 4:00 PM  | Slovenia   | England       | 4-4-2 double 6 | Fabio Capello    | 36.893 | 0:1          | 0 | 1          |\n",
       "| Round of 16          | Sun Jun 27, 2010 | 4:00 PM  | Germany    | England       | 4-4-2 double 6 | Fabio Capello    | 40.510 | 4:1          | 4 | 1          |\n",
       "| Group D              | Sun Jun 15, 2014 | 12:00 AM | England    | Italy         | 4-2-3-1        | Roy Hodgson      | 39.800 | 1:2          | 1 | 2          |\n",
       "| Group D              | Thu Jun 19, 2014 | 9:00 PM  | Uruguay    | England       | 4-2-3-1        | Roy Hodgson      | 62.103 | 2:1          | 2 | 1          |\n",
       "| Group D              | Tue Jun 24, 2014 | 6:00 PM  | Costa Rica | England       | 4-2-3-1        | Roy Hodgson      | 57.823 | 0:0          | 0 | 0          |\n",
       "| Group G              | Mon Jun 18, 2018 | 8:00 PM  | Tunisia    | England       | 3-1-4-2        | Gareth Southgate | 41.064 | 1:2          | 1 | 2          |\n",
       "| Group G              | Sun Jun 24, 2018 | 2:00 PM  | England    | Panama        | 3-1-4-2        | Gareth Southgate | 43.319 | 6:1          | 6 | 1          |\n",
       "| Group G              | Thu Jun 28, 2018 | 8:00 PM  | England    | Belgium       | 3-5-2 flat     | Gareth Southgate | 33.973 | 0:1          | 0 | 1          |\n",
       "| Round of 16          | Tue Jul 3, 2018  | 8:00 PM  | Colombia   | England       | 3-1-4-2        | Gareth Southgate | 44.190 | 4:5  on pens | 4 | 5  on pens |\n",
       "| Quarter-Finals       | Sat Jul 7, 2018  | 4:00 PM  | Sweden     | England       | 3-1-4-2        | Gareth Southgate | 39.991 | 0:2          | 0 | 2          |\n",
       "| Semi-Finals          | Wed Jul 11, 2018 | 8:00 PM  | Croatia    | England       | 3-1-4-2        | Gareth Southgate | 78.011 | 2:1  AET     | 2 | 1  AET     |\n",
       "| Third Place Play-Off | Sat Jul 14, 2018 | 4:00 PM  | Belgium    | England       | 3-5-2 flat     | Gareth Southgate | 64.406 | 2:0          | 2 | 0          |\n",
       "| Group B              | Mon Nov 21, 2022 | 2:00 PM  | England    | Iran          | ?              | Gareth Southgate | <!----> | -:-          | - | -          |\n",
       "| Group B              | Fri Nov 25, 2022 | 8:00 PM  | England    | United States | ?              | Gareth Southgate | <!----> | -:-          | - | -          |\n",
       "| Group B              | Tue Nov 29, 2022 | 8:00 PM  | Wales      | England       | ?              | Gareth Southgate | <!----> | -:-          | - | -          |\n",
       "\n"
      ],
      "text/plain": [
       "   Matchday             Date             Time     Home team  Away team    \n",
       "1  Group C              Sat Jun 12, 2010 8:30 PM  England    United States\n",
       "2  Group C              Fri Jun 18, 2010 8:30 PM  England    Algeria      \n",
       "3  Group C              Wed Jun 23, 2010 4:00 PM  Slovenia   England      \n",
       "4  Round of 16          Sun Jun 27, 2010 4:00 PM  Germany    England      \n",
       "5  Group D              Sun Jun 15, 2014 12:00 AM England    Italy        \n",
       "6  Group D              Thu Jun 19, 2014 9:00 PM  Uruguay    England      \n",
       "7  Group D              Tue Jun 24, 2014 6:00 PM  Costa Rica England      \n",
       "8  Group G              Mon Jun 18, 2018 8:00 PM  Tunisia    England      \n",
       "9  Group G              Sun Jun 24, 2018 2:00 PM  England    Panama       \n",
       "10 Group G              Thu Jun 28, 2018 8:00 PM  England    Belgium      \n",
       "11 Round of 16          Tue Jul 3, 2018  8:00 PM  Colombia   England      \n",
       "12 Quarter-Finals       Sat Jul 7, 2018  4:00 PM  Sweden     England      \n",
       "13 Semi-Finals          Wed Jul 11, 2018 8:00 PM  Croatia    England      \n",
       "14 Third Place Play-Off Sat Jul 14, 2018 4:00 PM  Belgium    England      \n",
       "15 Group B              Mon Nov 21, 2022 2:00 PM  England    Iran         \n",
       "16 Group B              Fri Nov 25, 2022 8:00 PM  England    United States\n",
       "17 Group B              Tue Nov 29, 2022 8:00 PM  Wales      England      \n",
       "   System of play Coach            Attendance Result       goals_scored_links\n",
       "1  4-4-2 double 6 Fabio Capello    38.646     1:1          1                 \n",
       "2  4-4-2 double 6 Fabio Capello    64.100     0:0          0                 \n",
       "3  4-4-2 double 6 Fabio Capello    36.893     0:1          0                 \n",
       "4  4-4-2 double 6 Fabio Capello    40.510     4:1          4                 \n",
       "5  4-2-3-1        Roy Hodgson      39.800     1:2          1                 \n",
       "6  4-2-3-1        Roy Hodgson      62.103     2:1          2                 \n",
       "7  4-2-3-1        Roy Hodgson      57.823     0:0          0                 \n",
       "8  3-1-4-2        Gareth Southgate 41.064     1:2          1                 \n",
       "9  3-1-4-2        Gareth Southgate 43.319     6:1          6                 \n",
       "10 3-5-2 flat     Gareth Southgate 33.973     0:1          0                 \n",
       "11 3-1-4-2        Gareth Southgate 44.190     4:5  on pens 4                 \n",
       "12 3-1-4-2        Gareth Southgate 39.991     0:2          0                 \n",
       "13 3-1-4-2        Gareth Southgate 78.011     2:1  AET     2                 \n",
       "14 3-5-2 flat     Gareth Southgate 64.406     2:0          2                 \n",
       "15 ?              Gareth Southgate            -:-          -                 \n",
       "16 ?              Gareth Southgate            -:-          -                 \n",
       "17 ?              Gareth Southgate            -:-          -                 \n",
       "   goals_scored_rechts\n",
       "1  1                  \n",
       "2  0                  \n",
       "3  1                  \n",
       "4  1                  \n",
       "5  2                  \n",
       "6  1                  \n",
       "7  0                  \n",
       "8  2                  \n",
       "9  1                  \n",
       "10 1                  \n",
       "11 5  on pens         \n",
       "12 2                  \n",
       "13 1  AET             \n",
       "14 0                  \n",
       "15 -                  \n",
       "16 -                  \n",
       "17 -                  "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "df_football %>% select('Result') -> test\n",
    "\n",
    "df_test = c()\n",
    "df_test2 = c()\n",
    "\n",
    "for (item in test$Result) {\n",
    "    \n",
    "    df_test = c(df_test, c(strsplit(item, ':')[[1]][1]))\n",
    "    df_test2 = c(df_test2, c(strsplit(item, ':')[[1]][2]))\n",
    "}\n",
    "\n",
    "df_test\n",
    "\n",
    "df_football$goals_scored_links = df_test\n",
    "df_football$goals_scored_rechts = df_test2\n",
    "\n",
    "df_football\n",
    "\n",
    "#mutate(test, goals = strsplit(Result, ':')[[1]][2]) -> new_df\n",
    "\n",
    "#new_df"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "R",
   "language": "R",
   "name": "ir"
  },
  "language_info": {
   "codemirror_mode": "r",
   "file_extension": ".r",
   "mimetype": "text/x-r-source",
   "name": "R",
   "pygments_lexer": "r",
   "version": "4.0.5"
  },
  "papermill": {
   "default_parameters": {},
   "duration": 123.342105,
   "end_time": "2022-08-10T15:34:08.738652",
   "environment_variables": {},
   "exception": null,
   "input_path": "__notebook__.ipynb",
   "output_path": "__notebook__.ipynb",
   "parameters": {},
   "start_time": "2022-08-10T15:32:05.396547",
   "version": "2.3.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
